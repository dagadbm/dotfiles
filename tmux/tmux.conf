###############################################################################
# General

# note: press K inside vim (with tmuxplugins/vim-tmux installed) to jump to man definition of each of the tmux configurations!

set -g base-index 1
set -g pane-base-index 1

set-option -g allow-rename off
set-option -g set-titles on
set -g renumber-windows on

set -g default-terminal "screen-256color"
set -g history-limit 10000

set -g status-keys vi
setw -g mode-keys vi

set -g mouse on

setw -g monitor-activity on
set -g visual-activity on

# play nice with other vim plugins
set -g focus-events on 

# Sane splitting 
# pipe and underscore alias is also supported by plugins (see below)
bind-key v split-window -h
bind-key h split-window -v

# No delay for escape key press
set -sg escape-time 0


###############################################################################
# Plugins


set -g @plugin 'tmux-plugins/tpm'
# Tmux Plugin Manager
# To install plugins: Prefix + I
# To update plugins: Prefix + U
# To uninstall plugins (after removing from config): Prefix + alt + u


set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
# Shows on status bar if you pressed prefix or if you are in copy mode
# just add #{prefix_highlight} to status-left/right
#custom config
set -g @prefix_highlight_fg 'white' # default is 'colour231'
set -g @prefix_highlight_bg 'blue'  # default is 'colour04'
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_copy_mode_attr 'fg=black,bg=yellow,bold' # default is 'fg=default,bg=yellow'
set -g @prefix_highlight_prefix_prompt 'Prompt'
set -g @prefix_highlight_copy_prompt 'Copy'


set -g @plugin 'tmux-plugins/tmux-pain-control'
# adds vim like window movement. 
# | for vertical (\ full width) split
# - for horizontal ( _ full width) split


set -g @plugin 'tmux-plugins/tmux-copycat'
# Search with Prefix + / like in vim (use n N to navigate between results, Enter to copy result)


set -g @plugin 'tmux-plugins/tmux-yank'
# makes paste work properly using custom OS dependent clipboard.
# Each OS needs different external copy/paste handler plugin.
# See github documento for more info
# for macOSX this option is needed along with brew install reattach-to-user-namespace
set-option -g default-command "reattach-to-user-namespace -l $SHELL"


set -g @plugin 'tmux-plugins/tmux-resurrect'
# persists tmux session
# Prefix + Ctrl-s to save
# Prefix + Ctrl-r to restore
# sessions files stored in ~/.tmux/resurrect


set -g @plugin 'tmux-plugins/tmux-continuum'
# continuous saving of tmux sessions (built on top of tmux-resurrect)
# Tmux is automatically started after the computer/server is turned on.
set -g @continuum-boot 'on'
# start iterm2 in fullscreen
set -g @continuum-boot-options 'iterm,fullscreen'
# automatic restore tmux session
set -g @continuum-restore 'on'


set -g @plugin 'tmux-plugins/tmux-open'
# open files with open comand in copy mode
# o calls OS open command
set -g @open 'o'
# e edits the file using the $EDITOR
set -g @open-editor 'e'
# Shift-s searches the highlighted selection in google!


set -g @plugin 'nhdaly/tmux-better-mouse-mode'
# better mouse integration with tmux. check below options if behavior if weird
# look at the github repo for more info
set -g @scroll-down-exit-copy-mode "off" # default on
set -g @scroll-without-changing-pane "on" # default off
set -g @scroll-in-moused-over-pane "on" # default on
set -g @scroll-speed-num-lines-per-scroll "3" # default 3
set -g @emulate-scroll-for-no-mouse-alternate-buffer "on" # default off


set -g @plugin 'tmux-plugins/tmux-battery'
# Allows putting battery icons and notifications on the status-bar


set -g @plugin 'tmux-plugins/tmux-sidebar'
# Tree like structure for tmux.
# open with Prefix + Tab
# close with Prefix + Backspace


###############################################################################
# Theme

# set -g status-bg black
# set -g status-fg white
# set -g window-status-current-bg white
# set -g window-status-current-fg black
# set -g window-status-current-attr bold
# set -g status-interval 60
# set -g status-left-length 30
set -g status-right '#{prefix_highlight} #{battery_status_bg} #{battery_icon} #{battery_percentage} #{battery_remain} | %d/%m/%Y (%A) : %H:%M '

# Initialize TMUX plugin manager
run '~/.tmux/tpm/tpm'
